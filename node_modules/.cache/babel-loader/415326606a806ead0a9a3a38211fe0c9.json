{"ast":null,"code":"import _classCallCheck from \"/home/akash/Documents/conduit/conduit-real-world/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/akash/Documents/conduit/conduit-real-world/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/akash/Documents/conduit/conduit-real-world/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/akash/Documents/conduit/conduit-real-world/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/akash/Documents/conduit/conduit-real-world/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/akash/Documents/conduit/conduit-real-world/src/Profile.js\";\nimport React from \"react\";\nimport Header from \"./Header\";\nimport { Link, NavLink, Redirect } from \"react-router-dom\";\n\nvar Profile =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Profile, _React$Component);\n\n  function Profile() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Profile);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Profile)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      user: null,\n      articles: []\n    };\n\n    _this.componentDidMount = function () {\n      fetch(\"https://conduit.productionready.io/api/user\", {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Token \".concat(localStorage.token)\n        }\n      }).then(function (res) {\n        return res.json();\n      }).then(function (user) {\n        console.log(user);\n\n        _this.setState({\n          user: user.user\n        });\n\n        fetch(\"https://conduit.productionready.io/api/articles?author=\".concat(user.user.username, \"&limit=5&offset=0\"), {\n          method: \"GET\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: \"Token \".concat(localStorage.token)\n          }\n        }).then(function (res) {\n          return res.json();\n        }).then(function (articles) {\n          console.log(articles, \"in profile\");\n\n          _this.setState({\n            articles: articles.articles\n          });\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Profile, [{\n    key: \"render\",\n    value: function render() {\n      // console.log(this.state, \"chechp\");\n      var _this$state = this.state,\n          user = _this$state.user,\n          articles = _this$state.articles;\n      return React.createElement(React.Fragment, null, localStorage.token ? React.createElement(React.Fragment, null, React.createElement(Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }), React.createElement(\"section\", {\n        className: \"hero is-small is-success is-bold\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"base column is-8 is-offset-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"hero-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container hero-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, user !== null ? React.createElement(React.Fragment, null, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"figure\", {\n        // style={{ \"margin-left\": \"567px\" }}\n        className: \"image is-128x128 img-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \" is-responsive image is-rounded\",\n        src: this.state.user.image || \"https://bulma.io/images/placeholders/128x128.png\",\n        alt: \"profile avatar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }))), React.createElement(\"h4\", {\n        // style={{ \"padding-top\": \"3rem\" }}\n        className: \"title is-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, this.state.user.username), React.createElement(\"p\", {\n        className: \"profile-bio is-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, this.state.user.bio), React.createElement(\"div\", {\n        className: \"hero-bottom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, this.state.user.username === localStorage.user.username ? React.createElement(Link, {\n        to: \"/edit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"profile-btn button is-outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-cog\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      })), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, \"Edit Profile Settings\"))) : \"\"))) : React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"Load ho raha hai...\")))))) : React.createElement(Redirect, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }), articles !== null ? React.createElement(React.Fragment, null, React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, this.state.articles.map(function (article) {\n        return React.createElement(\"div\", {\n          class: \"column is-half is-offset-one-quarter\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"card\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"card-content\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"media\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"media-left\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122\n          },\n          __self: this\n        }, React.createElement(\"figure\", {\n          className: \"image is-64x64\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          className: \"is-rounded is-responsive\",\n          src: article.author.image,\n          alt: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          className: \"media-content\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          className: \"title is-4\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132\n          },\n          __self: this\n        }, article.author.username), React.createElement(Link, {\n          to: \"/article/\".concat(article.slug),\n          className: \"subtitle is-6\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135\n          },\n          __self: this\n        }, article.title))), React.createElement(\"div\", {\n          className: \"content\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143\n          },\n          __self: this\n        }, article.description, React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145\n          },\n          __self: this\n        }), React.createElement(\"time\", {\n          dateTime: \"2016-1-1\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146\n          },\n          __self: this\n        }, article.createdAt)))));\n      }))) : React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, \"LOading...\"));\n    }\n  }]);\n\n  return Profile;\n}(React.Component);\n\nexport default Profile;","map":{"version":3,"sources":["/home/akash/Documents/conduit/conduit-real-world/src/Profile.js"],"names":["React","Header","Link","NavLink","Redirect","Profile","state","user","articles","componentDidMount","fetch","method","headers","Authorization","localStorage","token","then","res","json","console","log","setState","username","image","bio","map","article","author","slug","title","description","createdAt","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Header from \"./Header\";\nimport { Link, NavLink, Redirect } from \"react-router-dom\";\n\nclass Profile extends React.Component {\n  state = {\n    user: null,\n    articles: []\n  };\n\n  componentDidMount = () => {\n    fetch(\"https://conduit.productionready.io/api/user\", {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Token ${localStorage.token}`\n      }\n    })\n      .then(res => res.json())\n      .then(user => {\n        console.log(user);\n        this.setState({\n          user: user.user\n        });\n        fetch(\n          `https://conduit.productionready.io/api/articles?author=${\n            user.user.username\n          }&limit=5&offset=0`,\n          {\n            method: \"GET\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n              Authorization: `Token ${localStorage.token}`\n            }\n          }\n        )\n          .then(res => res.json())\n          .then(articles => {\n            console.log(articles, \"in profile\");\n            this.setState({\n              articles: articles.articles\n            });\n          });\n      });\n  };\n\n  render() {\n    // console.log(this.state, \"chechp\");\n    const { user, articles } = this.state;\n    return (\n      <>\n        {localStorage.token ? (\n          <>\n            <Header />\n            <section className=\"hero is-small is-success is-bold\">\n              <div className=\"base column is-8 is-offset-2\">\n                <div className=\"hero-body\">\n                  <div className=\"container hero-container\">\n                    {user !== null ? (\n                      <>\n                        <div>\n                          <div>\n                            <figure\n                              // style={{ \"margin-left\": \"567px\" }}\n                              className=\"image is-128x128 img-container\"\n                            >\n                              <img\n                                className=\" is-responsive image is-rounded\"\n                                src={\n                                  this.state.user.image ||\n                                  \"https://bulma.io/images/placeholders/128x128.png\"\n                                }\n                                alt=\"profile avatar\"\n                              />\n                            </figure>\n                          </div>\n                          <h4\n                            // style={{ \"padding-top\": \"3rem\" }}\n                            className=\"title is-4\"\n                          >\n                            {this.state.user.username}\n                          </h4>\n                          <p className=\"profile-bio is-6\">\n                            {this.state.user.bio}\n                          </p>\n                          <div className=\"hero-bottom\">\n                            {this.state.user.username ===\n                            localStorage.user.username ? (\n                              <Link to=\"/edit\">\n                                <button className=\"profile-btn button is-outlined\">\n                                  <span className=\"icon\">\n                                    <i className=\"fas fa-cog\" />\n                                  </span>\n                                  <span>Edit Profile Settings</span>\n                                </button>\n                              </Link>\n                            ) : (\n                              \"\"\n                            )}\n                          </div>\n                        </div>\n                      </>\n                    ) : (\n                      <h1>Load ho raha hai...</h1>\n                    )}\n                  </div>\n                </div>\n              </div>\n            </section>\n          </>\n        ) : (\n          <Redirect to=\"/login\" />\n        )}\n        {articles !== null ? (\n          <>\n            <ul>\n              {this.state.articles.map(article => (\n                <div class=\"column is-half is-offset-one-quarter\">\n                  <div className=\"card\">\n                    <div className=\"card-content\">\n                      <div className=\"media\">\n                        <div className=\"media-left\">\n                          <figure className=\"image is-64x64\">\n                            <img\n                              className=\"is-rounded is-responsive\"\n                              src={article.author.image}\n                              alt=\"\"\n                            />\n                          </figure>\n                        </div>\n                        <div className=\"media-content\">\n                          <p className=\"title is-4\">\n                            {article.author.username}\n                          </p>\n                          <Link\n                            to={`/article/${article.slug}`}\n                            className=\"subtitle is-6\"\n                          >\n                            {article.title}\n                          </Link>\n                        </div>\n                      </div>\n                      <div className=\"content\">\n                        {article.description}\n                        <br />\n                        <time dateTime=\"2016-1-1\">{article.createdAt}</time>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </ul>\n          </>\n        ) : (\n          <h1>LOading...</h1>\n        )}\n      </>\n    );\n  }\n}\n\nexport default Profile;\n"]},"metadata":{},"sourceType":"module"}