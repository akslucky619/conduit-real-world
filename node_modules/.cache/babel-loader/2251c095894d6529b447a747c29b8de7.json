{"ast":null,"code":"import _defineProperty from \"/home/akash/Documents/conduit/conduit-real-world/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/akash/Documents/conduit/conduit-real-world/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/akash/Documents/conduit/conduit-real-world/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/akash/Documents/conduit/conduit-real-world/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/akash/Documents/conduit/conduit-real-world/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/akash/Documents/conduit/conduit-real-world/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/akash/Documents/conduit/conduit-real-world/src/EditBlog.js\";\nimport React from \"react\"; // import SingleArt from\n\nimport Header from \"./Header\";\n\nvar EditBlog =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(EditBlog, _React$Component);\n\n  function EditBlog() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, EditBlog);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(EditBlog)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      article: {\n        title: \"\",\n        description: \"\",\n        body: \"\",\n        tagList: \"\"\n      }\n    };\n\n    _this.componentDidMount = function () {\n      var slug = _this.props.match.params.slug;\n      fetch(\"https://conduit.productionready.io/api/articles/\".concat(slug), {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Token \".concat(localStorage.token)\n        }\n      }).then(function (res) {\n        return res.json();\n      }).then(function (article) {\n        console.log(article, \"in edit\");\n\n        _this.setState({\n          article: article.article\n        });\n\n        console.log(article, \"part 2\");\n      });\n    };\n\n    _this.inputChange = function (_ref) {\n      var _ref$target = _ref.target,\n          name = _ref$target.name,\n          value = _ref$target.value;\n      console.log(name, \"name\");\n\n      _this.setState({\n        article: _defineProperty({}, name, value)\n      });\n    };\n\n    _this.handleClick = function () {\n      var slug = _this.props.match.params.slug; // const tagList = this.state.article.tagList\n      //   .split(\",\")\n      //   .map(tag => tag.trim());\n\n      var _this$state$article = _this.state.article,\n          title = _this$state$article.title,\n          description = _this$state$article.description,\n          body = _this$state$article.body,\n          tagList = _this$state$article.tagList;\n      var data = {\n        article: {\n          title: title,\n          description: description,\n          body: body,\n          tagList: tagList\n        }\n      };\n      fetch(\"https://conduit.productionready.io/api/articles/\".concat(slug), {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Token \".concat(localStorage.token)\n        },\n        body: JSON.stringify(data)\n      }).then(function (res) {\n        return res.json();\n      }).then(function (article) {\n        console.log(article, \"posting article\");\n      }, _this.props.history.push(\"/\"));\n    };\n\n    return _this;\n  }\n\n  _createClass(EditBlog, [{\n    key: \"render\",\n    value: function render() {\n      var article = this.state.article;\n      return React.createElement(React.Fragment, null, React.createElement(Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }), localStorage.token ? React.createElement(React.Fragment, null, React.createElement(\"div\", {\n        className: \"column is-three-fifths is-offset-one-fifth\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"field\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"control\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        onChange: this.inputChange,\n        class: \"input\",\n        type: \"text\",\n        name: \"title\",\n        value: article.title,\n        placeholder: \"Article Title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        class: \"field\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"control\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        onChange: this.inputChange,\n        class: \"input\",\n        type: \"text\",\n        name: \"description\",\n        value: article.description,\n        placeholder: \"What is this article about?\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        class: \"field\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"control\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"textarea\", {\n        onChange: this.inputChange,\n        class: \"textarea\",\n        name: \"body\",\n        value: article.body,\n        placeholder: \"Write your article (in markdown)\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        class: \"field\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"control\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        onChange: this.inputChange,\n        class: \"input\",\n        type: \"text\",\n        name: \"tagList\",\n        value: article.tagList,\n        placeholder: \"Input Tags\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        class: \"field is-grouped\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"control\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.handleClick,\n        class: \"button is-link\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, \"Submit\"))))) : React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, \"Login First\"));\n    }\n  }]);\n\n  return EditBlog;\n}(React.Component);\n\nexport default EditBlog;","map":{"version":3,"sources":["/home/akash/Documents/conduit/conduit-real-world/src/EditBlog.js"],"names":["React","Header","EditBlog","state","article","title","description","body","tagList","componentDidMount","slug","props","match","params","fetch","method","headers","Authorization","localStorage","token","then","res","json","console","log","setState","inputChange","target","name","value","handleClick","data","JSON","stringify","history","push","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\n// import SingleArt from\nimport Header from \"./Header\";\n\nclass EditBlog extends React.Component {\n  state = {\n    article: {\n      title: \"\",\n      description: \"\",\n      body: \"\",\n      tagList: \"\"\n    }\n  };\n\n  componentDidMount = () => {\n    const { slug } = this.props.match.params;\n    fetch(`https://conduit.productionready.io/api/articles/${slug}`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Token ${localStorage.token}`\n      }\n    })\n      .then(res => res.json())\n      .then(article => {\n        console.log(article, \"in edit\");\n        this.setState({ article: article.article });\n        console.log(article, \"part 2\");\n      });\n  };\n\n  inputChange = ({ target: { name, value } }) => {\n    console.log(name, \"name\");\n    this.setState({\n      article: {\n        [name]: value\n      }\n    });\n  };\n\n  handleClick = () => {\n    const { slug } = this.props.match.params;\n    // const tagList = this.state.article.tagList\n    //   .split(\",\")\n    //   .map(tag => tag.trim());\n    const { title, description, body, tagList } = this.state.article;\n    const data = {\n      article: {\n        title,\n        description,\n        body,\n        tagList\n      }\n    };\n    fetch(`https://conduit.productionready.io/api/articles/${slug}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Token ${localStorage.token}`\n      },\n      body: JSON.stringify(data)\n    })\n      .then(res => res.json())\n      .then(article => {\n        console.log(article, \"posting article\");\n      }, this.props.history.push(\"/\"));\n  };\n\n  render() {\n    const article = this.state.article;\n    return (\n      <>\n        <Header />\n        {localStorage.token ? (\n          <>\n            <div className=\"column is-three-fifths is-offset-one-fifth\">\n              <div class=\"field\">\n                <div class=\"control\">\n                  <input\n                    onChange={this.inputChange}\n                    class=\"input\"\n                    type=\"text\"\n                    name=\"title\"\n                    value={article.title}\n                    placeholder=\"Article Title\"\n                  />\n                </div>\n              </div>\n              <div class=\"field\">\n                <div class=\"control\">\n                  <input\n                    onChange={this.inputChange}\n                    class=\"input\"\n                    type=\"text\"\n                    name=\"description\"\n                    value={article.description}\n                    placeholder=\"What is this article about?\"\n                  />\n                </div>\n              </div>\n\n              <div class=\"field\">\n                <div class=\"control\">\n                  <textarea\n                    onChange={this.inputChange}\n                    class=\"textarea\"\n                    name=\"body\"\n                    value={article.body}\n                    placeholder=\"Write your article (in markdown)\"\n                  />\n                </div>\n              </div>\n\n              <div class=\"field\">\n                <div class=\"control\">\n                  <input\n                    onChange={this.inputChange}\n                    class=\"input\"\n                    type=\"text\"\n                    name=\"tagList\"\n                    value={article.tagList}\n                    placeholder=\"Input Tags\"\n                  />\n                </div>\n              </div>\n              <div class=\"field is-grouped\">\n                <div class=\"control\">\n                  <button onClick={this.handleClick} class=\"button is-link\">\n                    Submit\n                  </button>\n                </div>\n              </div>\n            </div>\n          </>\n        ) : (\n          <h1>Login First</h1>\n        )}\n      </>\n    );\n  }\n}\n\nexport default EditBlog;\n"]},"metadata":{},"sourceType":"module"}